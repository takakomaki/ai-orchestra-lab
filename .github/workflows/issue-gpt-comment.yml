name: GPT issue comment test

permissions:
  issues: write

on:
  issues:
    types: [labeled]

jobs:
  add-gpt-comment:
    runs-on: ubuntu-latest

    if: contains(join(fromJson(toJson(github.event.issue.labels)).*.name, ','), 'GPT')

    steps:
      - name: Add test comment as GPT
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          gh api \
            repos/${{ github.repository }}/issues/${{ github.event.issue.number }}/comments \
            -f body='ğŸ‘‹ ã“ã¡ã‚‰GPTã§ã™ã€‚ãƒ©ãƒ™ãƒ«ã€ŒGPTã€ãŒã¤ã„ãŸã®ã§ã€ã“ã®Issueã«æ¥ç¶šãƒ†ã‚¹ãƒˆã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ã„ã¦ã„ã¾ã™ã€‚'
